<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.0.2">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>CS2103/T - Error Handling</title><link rel="stylesheet" href="/website/markbind/css/bootstrap.min.css">
    <link rel="stylesheet" href="/website/markbind/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/website/markbind/glyphicons/css/bootstrap-glyphicons.min.css">
    <link rel="stylesheet" href="/website/markbind/css/octicons.css">
    <link rel="stylesheet" href="/website/markbind/material-icons/material-icons.css">
    <link rel="stylesheet" href="/website/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/website/markbind/css/markbind.min.css"><script src="/website/markbind/js/polyfill.min.js"></script>
    <script src="/website/markbind/js/vue.min.js"></script>
    <script src="/website/markbind/js/markbind.min.js"></script>
    <script src="errorHandling-printable.page-vue-render.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3.2.0/dist/style.css"><link rel="stylesheet" href="/website/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/website/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
<link rel="stylesheet" href="/website/css/main.css">
<link rel="icon" href="/website/favicon.ico"></head>
<script>
  const baseUrl = '/website'
</script>
<body >
<div id="app" data-server-rendered="true"><header sticky=""><div placement="top" data-v-73b4aa16><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-73b4aa16><div class="container-fluid" data-v-73b4aa16><div class="navbar-left" data-v-73b4aa16><a href="/website/index.html" title="Home" class="navbar-brand" data-v-73b4aa16><span class="badge rounded-pill bg-success" data-v-73b4aa16>CS2103/T <small data-v-73b4aa16>2023 Aug-Nov</small></span></a></div> <div class="navbar-default" data-v-73b4aa16><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-73b4aa16> <li class="nav-link algolia-no-index dropdown" data-v-12679d7e><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-12679d7e><strong data-v-12679d7e>Schedule</strong></a> <ul class="dropdown-menu" data-v-12679d7e> <li data-v-12679d7e><a href="/website/schedule/timeline.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Full Timeline</strong></span></a></li> <li data-v-12679d7e><a href="/website/schedule/week1/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 1</strong> [Mon, Aug 14th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week2/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 2</strong> [Fri, Aug 18th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week3/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 3</strong> [Fri, Aug 25th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week4/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 4</strong> [Fri, Sep 1st]  <span aria-hidden="true" class="fas fa-arrow-circle-left" data-v-12679d7e></span></span></a></li> <li data-v-12679d7e><a href="/website/schedule/week5/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 5</strong> [Fri, Sep 8th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week6/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 6</strong> [Fri, Sep 15th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week7/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 7</strong> [Fri, Sep 22nd] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week8/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 8</strong> [Fri, Oct 6th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week9/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 9</strong> [Fri, Oct 13th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week10/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 10</strong> [Fri, Oct 20th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week11/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 11</strong> [Fri, Oct 27th] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week12/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 12</strong> [Fri, Nov 3rd] </span></a></li> <li data-v-12679d7e><a href="/website/schedule/week13/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><strong data-v-12679d7e>Week 13</strong> [Fri, Nov 10th] </span></a></li></ul></li> <li data-v-73b4aa16><a href="/website/se-book-adapted/index.html" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><strong data-v-73b4aa16>Textbook</strong></span></a></li> <li data-v-73b4aa16><a href="/website/admin/index.html" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><strong data-v-73b4aa16>Admin Info</strong></span></a></li> <li tags="m--cs2103 m--cs2113 m--tic4001 m--tic4002" data-v-73b4aa16><a href="https://nus-cs2103-ay2324s1.github.io/dashboards" target="_blank" highlight-on="none" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><strong data-v-73b4aa16>Dashboards</strong></span></a></li> <li tags="m--cs2103 m--cs2113 m--tic4001 m--tic4002" class="nav-link algolia-no-index dropdown" data-v-12679d7e><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-12679d7e><strong data-v-12679d7e>Project Links</strong></a> <ul class="dropdown-menu" data-v-12679d7e> <span data-v-12679d7e><strong data-v-12679d7e> Individual Project (iP):</strong></span> <li data-v-12679d7e><a href="/website/admin/ip-overview.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-drafting-compass" data-v-12679d7e></span></span></span> Individual Project Info</a></li> <li data-v-12679d7e><a href="https://github.com/nus-cs2103-AY2324S1/ip" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-code-branch" data-v-12679d7e></span></span></span> iP Upstream Repo</a></li> <li tags="m--cs2103 m--tic4001 m--tic4002" data-v-12679d7e><a href="/website/admin/ip-showcase.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="glyphicon glyphicon-list-alt" data-v-12679d7e></span> iP Showcase</span></a></li> <li data-v-12679d7e><a href="https://nus-cs2103-ay2324s1.github.io/ip-dashboard/?search=&amp;sort=groupTitle&amp;sortWithin=title&amp;timeframe=commit&amp;mergegroup=&amp;groupSelect=groupByRepos&amp;breakdown=true&amp;checkedFileTypes=java~md~fxml~sh~bat~gradle~txt" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-chart-area" data-v-12679d7e></span> iP Code Dashboard</span></a></li> <li data-v-12679d7e><a href="https://nus-cs2103-ay2324s1.github.io/dashboards/contents/ip-progress.html" target="_blank" class="dropdown-item text-success" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-trophy" data-v-12679d7e></span> iP Progress Dashboard</span></a></li> <hr data-v-12679d7e> <span data-v-12679d7e><strong data-v-12679d7e> Team Project (tP):</strong></span> <li data-v-12679d7e><a href="/website/admin/tp-expectations.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-drafting-compass" data-v-12679d7e></span></span></span> Team Project Info</a></li> <li tags="m--cs2103 m--cs2113 m--tic4002" data-v-12679d7e><a href="https://github.com/nus-cs2103-AY2324S1/tp" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-code-branch" data-v-12679d7e></span></span></span> tP Upstream Repo (AB3)</a></li> <li data-v-12679d7e><a href="/website/admin/teamList.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="glyphicon glyphicon-list-alt" data-v-12679d7e></span> Team List</span></a></li> <li data-v-12679d7e><a href="https://nus-cs2103-ay2324s1.github.io/tp-dashboard/?search=&amp;sort=groupTitle&amp;sortWithin=title&amp;timeframe=commit&amp;mergegroup=&amp;groupSelect=groupByRepos&amp;breakdown=true&amp;checkedFileTypes=docs~functional-code~test-code~other" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-chart-area" data-v-12679d7e></span> tP Code Dashboard</span></a></li> <li data-v-12679d7e><a href="https://nus-cs2103-ay2324s1.github.io/dashboards/contents/tp-progress.html" target="_blank" class="dropdown-item text-success" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-trophy" data-v-12679d7e></span> tP Progress Dashboard</span></a></li></ul></li> <li class="nav-link algolia-no-index dropdown" data-v-12679d7e><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-12679d7e><strong data-v-12679d7e>Other Links</strong></a> <ul class="dropdown-menu" data-v-12679d7e> <li tags="m--cs2103 m--cs2113 m--tic4001 m--tic4002" data-v-12679d7e><a href="https://github.com/nus-cs2103-AY2324S1/forum/issues" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-bug" data-v-12679d7e></span> Report Bugs</span></a></li> <li data-v-12679d7e><a href="https://github.com/nus-cs2103-AY2324S1/forum/issues" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-comment" data-v-12679d7e></span> Forum</span></a></li> <li data-v-12679d7e><a href="/website/admin/instructors.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-user-tie" data-v-12679d7e></span> Instructors</span></a></li> <li data-v-12679d7e><a href="https://canvas.nus.edu.sg/courses/45682/announcements" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="glyphicon glyphicon-bullhorn" data-v-12679d7e></span> Announcements</span></a></li> <li data-v-12679d7e><a href="https://canvas.nus.edu.sg/courses/45682/files" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-file-upload" data-v-12679d7e></span> Files (handouts, submissions etc.)</span></a></li> <li tags="m--cs2113 m--cs2103" data-v-12679d7e><a href="/website/admin/tutorials.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="glyphicon glyphicon-calendar" data-v-12679d7e></span> Tutorial Schedule</span></a></li> <li data-v-12679d7e><a href="https://teams.microsoft.com/l/team/19%3aetv-ahOucAqj-ZL13z-nIQsuTCIJVvW683aNXj4OcME1%40thread.tacv2/conversations?groupId=7b368f45-ea75-4442-88fa-7b6ede957fd5&amp;tenantId=5ba5ef5e-3109-4e77-85bd-cfeb0d347e82" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-users-cog" data-v-12679d7e></span> MS Teams link</span></a></li> <li data-v-12679d7e><a href="/website/git-trail/index.html" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-route" data-v-12679d7e></span> Git Learning Trail</span></a></li> <li tags="m--cs2103 m--cs2113 m--tic2002 m--tic4001 m--tic4002" data-v-12679d7e><a href="https://se-education.org/guides/conventions/java/intermediate.html" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-code" data-v-12679d7e></span> Java Coding Standard</span></a></li> <li tags="m--cs2103 m--cs2113 m--tic4001 m--tic4002" data-v-12679d7e><a href="https://se-education.org/guides/conventions/git.html" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fab fa-git-square" data-v-12679d7e></span> Git Conventions</span></a></li> <li tags="m--cs2103 m--cs2113" data-v-12679d7e><a href="https://nus-cs2103-ay2324s1.github.io/dashboards/contents/forum-activities.html" target="_blank" class="dropdown-item" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-trophy" data-v-12679d7e></span> Forum Activities Dashboard</span></a></li> <li data-v-12679d7e><a href="https://nus-cs2103-ay2324s1.github.io/dashboards/contents/participation.html" target="_blank" class="dropdown-item text-success" data-v-12679d7e><span data-v-12679d7e><span aria-hidden="true" class="fas fa-trophy" data-v-12679d7e></span> Participation Dashboard</span></a></li></ul></li></ul></div> <ul class="navbar-nav navbar-right" data-v-73b4aa16><li class="nav-link" data-v-73b4aa16><form class="navbar-form" data-v-73b4aa16><div class="dropdown" style="position:relative;" data-v-01e11c9b><div id="algolia-search-input" data-v-01e11c9b></div> <ul class="dropdown-menu search-dropdown-menu d-none dropdown-menu-end" data-v-01e11c9b></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-73b4aa16><!----> <!----></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><link rel="stylesheet" href="/website/book/css/textbook.css"> <link rel="stylesheet" href="/website/book/css/print.css"> <div class="website-content"><div id="title"><div><h1 id="error-handling"><span>Error handling</span><a href="#error-handling" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1></div></div> <div><small><span class="dimmed"><span><span aria-hidden="true" class="glyphicon glyphicon-print"></span></span> This is a <strong>printer-friendly</strong> version. It omits exercises, optional topics (i.e., four-star topics), and other extra content such as learning outcomes.</span></small></div> <div><h2 id="introduction"><span>Introduction</span><a href="#introduction" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2></div> <div class="indented-less"><div class="indented-less"><h4 id="what">What <span class="badge bg-light text-dark"><small><small><span aria-hidden="true" class="glyphicon glyphicon-education"></span>: <span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></small></small></span><a href="#what" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><blockquote><p>Well-written applications include error-handling code that allows them to recover gracefully from unexpected errors. When an error occurs, the application may need to request user intervention, or it may be able to recover on its own. In extreme cases, the application may log the user off or shut down the system. -- <sub><a href="https://docs.microsoft.com/en-my/windows/win32/debug/error-handling">Microsoft</a></sub></p></blockquote></div></div></div></div> <div><h2 id="exceptions"><span>Exceptions</span><a href="#exceptions" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2></div> <div class="indented-less"><div class="indented-less"><h4 id="what-2">What <span class="badge bg-light text-dark"><small><small><span aria-hidden="true" class="glyphicon glyphicon-education"></span>: <span aria-hidden="true" class="glyphicon glyphicon-flash"></span></small></small></span><a href="#what-2" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong>Exceptions are used to deal with <em>'unusual' but not entirely unexpected</em> situations</strong> that the program might encounter at runtime.</p> <div class="alert box-container seamless" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><div class="icon-wrapper  text-primary" data-v-4d146e2c><i class="fas fa-atlas" data-v-4d146e2c></i></div> <div aria-hidden="true" class="vertical-divider alert-primary" data-v-4d146e2c></div> <div class="contents" data-v-4d146e2c><div data-v-4d146e2c><p data-v-4d146e2c><strong data-v-4d146e2c>Exception</strong>:</p> <blockquote data-v-4d146e2c><p data-v-4d146e2c>The term <em data-v-4d146e2c>exception</em> is shorthand for the phrase &quot;exceptional event.&quot; An <em data-v-4d146e2c>exception</em> is an event, which occurs during the execution of a program, that disrupts the normal flow of the program's instructions. –- Java Tutorial (Oracle Inc.)</p></blockquote></div></div> <!----></div></div></div> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> Examples:</p> <ul data-v-4d146e2c><li data-v-4d146e2c>A network connection encounters a timeout due to a slow server.</li> <li data-v-4d146e2c>The code tries to read a file from the hard disk but the file is corrupted and cannot be read.</li></ul></div> <!----></div></div></div></div></div></div> <div class="indented-less"><h4 id="how">How <span class="badge bg-light text-dark"><small><small><span aria-hidden="true" class="glyphicon glyphicon-education"></span>: <span aria-hidden="true" class="glyphicon glyphicon-flash"></span></small></small></span><a href="#how" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong>Most languages allow code that encountered an &quot;exceptional&quot; situation to encapsulate details of the situation in an <em>Exception</em> object and <em>throw</em>/<em>raise</em> that object so that another piece of code can <em>catch</em> it and deal with it.</strong> This is especially useful when the code that encountered the unusual situation does not know how to deal with it.</p> <p>The extract below from the <small><span style="opacity:0.5;"><span class="badge bg-secondary">-- Java Tutorial</span></span></small> (with slight adaptations) explains how exceptions are typically handled.</p> <div class="indented"><p><strong>When an error occurs at some point in the execution, the code being executed creates an <em>exception object</em> and hands it off to the runtime system.</strong> The exception object contains information about the error, including its type and the state of the program when the error occurred. Creating an exception object and handing it to the runtime system is called <em>throwing</em> an exception.</p> <p><strong>After a method throws an exception, the runtime system attempts to find something to handle it in the <span data-mb-component-type="tooltip" tabindex="0" class="trigger"><!----> <!----></span>.</strong> The runtime system searches the call stack for a method that contains a block of code that can handle the exception. This block of code is called an <em>exception handler</em>. The search begins with the method in which the error occurred and proceeds through the call stack in the reverse order in which the methods were called. When an appropriate handler is found, the runtime system passes the exception to the handler. An exception handler is considered appropriate if the type of the exception object thrown matches the type that can be handled by the handler.</p> <p><strong>The exception handler chosen is said to <em>catch</em> the exception.</strong> If the runtime system exhaustively searches all the methods on the call stack without finding an appropriate exception handler, the program terminates.</p></div> <p>Advantages of exception handling in this way:</p> <ul><li>The ability to propagate error information through the call stack.</li> <li>The separation of code that deals with 'unusual' situations from the code that does the 'usual' work.</li></ul></div></div></div> <div class="indented-less"><h4 id="when">When <span class="badge bg-light text-dark"><small><small><span aria-hidden="true" class="glyphicon glyphicon-education"></span>: <span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></small></small></span><a href="#when" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p>In general, use exceptions only for 'unusual' conditions. Use normal <code class="line-numbers hljs inline no-lang">return</code> statements to pass control to the caller for conditions that are 'normal'.</p></div></div></div></div> <div><h2 id="assertions"><span>Assertions</span><a href="#assertions" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2></div> <div class="indented-less"><div class="indented-less"><h4 id="what-3">What <span class="badge bg-light text-dark"><small><small><span aria-hidden="true" class="glyphicon glyphicon-education"></span>: <span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></small></small></span><a href="#what-3" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong><em>Assertions</em> are used to define assumptions about the program state so that the runtime can verify them.</strong> An assertion failure indicates a possible bug in the code <span class="dimmed">because the code has resulted in a program state that violates an assumption about how the code <em>should</em> behave</span>.</p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> An assertion can be used to express something like <em data-v-4d146e2c>when the execution comes to this point, the variable <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>v</code> cannot be null</em>.</p></div> <!----></div></div></div> <p><strong>If the runtime detects an <em>assertion failure</em>, it typically takes some drastic action</strong> such as terminating the execution with an error message. This is because an assertion failure indicates a possible bug and the sooner the execution stops, the safer it is.</p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> In the Java code below, suppose you set an assertion that <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>timeout</code> returned by <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Config.getTimeout()</code> is greater than <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>0</code>. Now, if <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Config.getTimeout()</code> returns <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>-1</code> in a specific execution of this line, the runtime can detect it as an <em data-v-4d146e2c>assertion failure</em> -- i.e. an assumption about the expected behavior of the code turned out to be wrong which could potentially be the result of a bug -- and take some drastic action such as terminating the execution.</p> <pre data-v-4d146e2c><code class="no-line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>int</span> timeout = Config.getTimeout();
</span><span data-v-4d146e2c><span class="hljs-comment" data-v-4d146e2c>// set assertion here ...</span>
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre></div> <!----></div></div></div></div></div></div> <div class="indented-less"><h4 id="how-2">How <span class="badge bg-light text-dark"><small><small><span aria-hidden="true" class="glyphicon glyphicon-education"></span>: <span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></small></small></span><a href="#how-2" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p>Use the <code class="line-numbers hljs inline no-lang">assert</code> keyword to define assertions.</p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> This assertion will fail with the message <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>x should be 0</code> if <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>x</code> is not 0 at this point.</p> <pre data-v-4d146e2c><code class="line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c>x = getX();
</span><span data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>assert</span> x == <span class="hljs-number" data-v-4d146e2c>0</span> : <span class="hljs-string" data-v-4d146e2c>&quot;x should be 0&quot;</span>;
</span><span data-v-4d146e2c>...
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre></div> <!----></div></div></div> <p><strong>Assertions can be disabled without modifying the code.</strong></p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>java -enableassertions HelloWorld</code> (or <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>java -ea HelloWorld</code>) will run <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>HelloWorld</code> with assertions enabled while <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>java -disableassertions HelloWorld</code> will run it without verifying assertions.</p></div> <!----></div></div></div> <div class="alert box-container alert-danger" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><div class="icon-wrapper" data-v-4d146e2c><i class="fas fa-flag" data-v-4d146e2c></i></div> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><strong data-v-4d146e2c>Java disables assertions by default.</strong> This could create a situation where you think all assertions are being verified as <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>true</code> while in fact they are not being verified at all. Therefore, remember to enable assertions when you run the program if you want them to be in effect.</p></div> <!----></div></div></div> <p><span class="badge rounded-pill bg-success text-white"><span aria-hidden="true" class="fas fa-lightbulb"></span></span> Enable assertions in IntelliJ (<a href="https://se-education.org/guides/tutorials/intellijUsefulSettings.html">how?</a>) and get an assertion to fail temporarily (e.g. insert an <code class="line-numbers hljs inline no-lang">assert false</code> into the code temporarily) to confirm assertions are being verified.</p> <p><span><span aria-hidden="true" class="fas fa-info-circle"></span></span> <strong>Java <code class="line-numbers hljs inline no-lang">assert</code> vs JUnit assertions: Both check for a given condition but JUnit assertions are more powerful and customized for testing.</strong> In addition, JUnit assertions are not disabled by default. Use JUnit assertions in test code and Java <code class="line-numbers hljs inline no-lang">assert</code> in functional code.</p></div></div></div> <div class="indented-less"><h4 id="when-2">When <span class="badge bg-light text-dark"><small><small><span aria-hidden="true" class="glyphicon glyphicon-education"></span>: <span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></small></small></span><a href="#when-2" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong>It is recommended that assertions be used liberally in the code.</strong> Their impact on performance is low, and worth the additional safety they provide.</p> <p><strong>Do not use assertions to do <em>work</em></strong> because assertions can be disabled. If not, your program will stop working when assertions are not enabled.</p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> The code below will not invoke the <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>writeFile()</code> method when assertions are disabled. <span class="dimmed" data-v-4d146e2c>If that method is performing some work that is necessary for your program, your program will not work correctly when assertions are disabled.</span></p> <pre data-v-4d146e2c><code class="no-line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c>...
</span><span data-v-4d146e2c><span class="hljs-function" data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>assert</span> <span class="hljs-title" data-v-4d146e2c>writeFile</span><span class="hljs-params" data-v-4d146e2c>()</span> : &quot;File writing is supposed to return <span class="hljs-keyword" data-v-4d146e2c>true</span>&quot;</span>;
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre></div> <!----></div></div></div> <p><strong>Assertions are suitable for verifying assumptions about <em>Internal Invariants</em>, <em>Control-Flow Invariants</em>,
<em>Preconditions</em>, <em>Postconditions</em>, and <em>Class Invariants</em>.</strong> Refer to <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html#usage">Programming with Assertions (second half)</a> to learn more.</p> <p><strong>Exceptions and assertions are two complementary ways of handling errors in software but they serve different purposes.</strong> Therefore, both assertions and exceptions should be used in code.</p> <ul><li>The raising of an exception indicates an unusual condition created by the user <span class="dimmed">(e.g.  user inputs an unacceptable input)</span> or the environment <span class="dimmed">(e.g., a file needed for the program is missing)</span>.</li> <li>An assertion failure indicates the programmer made a mistake in the code <span class="dimmed">(e.g., a null value is returned from a method that is not supposed to return null under any circumstances)</span>.</li></ul></div></div></div></div> <div><h2 id="logging"><span>Logging</span><a href="#logging" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2></div> <div class="indented-less"><div class="indented-less"><h4 id="what-4">What <span class="badge bg-light text-dark"><small><small><font color="DarkOrange"><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></font></small></small></span><a href="#what-4" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong><em>Logging</em> is the deliberate recording of certain information during a program execution for future reference.</strong> Logs are typically written to a log file but it is also possible to log information in other ways <span class="dimmed">e.g. into a database or a remote server</span>.</p> <p><strong><em>Logging</em> can be useful for troubleshooting problems</strong>. A good logging system records some system information regularly. When bad things happen to a system <span class="dimmed">e.g. an unanticipated failure</span>, their associated log files may provide indications of what went wrong and actions can then be taken to prevent it from happening again.</p> <div alt="blackbox photo"><div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span class="badge rounded-pill bg-success text-white" data-v-4d146e2c><span aria-hidden="true" class="fas fa-lightbulb" data-v-4d146e2c></span></span> <strong data-v-4d146e2c>A log file is like the <span data-mb-component-type="tooltip" tabindex="0" class="trigger"><!----> <!----></span> of an airplane</strong>; they don't prevent problems but they can be helpful in understanding what went wrong after the fact.</p> <div class="non-printable" data-v-4d146e2c><p data-v-4d146e2c><span class="image-wrapper"><img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Flight_data_recorder_displayed_at_HAL_Museum_7893.JPG" width="250" loading="lazy" class="img-fluid rounded"> <span class="image-caption"><br> <sub>source: <a href="https://upload.wikimedia.org/wikipedia/commons/5/5b/Flight_data_recorder_displayed_at_HAL_Museum_7893.JPG">https://commons.wikimedia.org</a></sub></span></span></p></div></div> <!----></div></div></div></div></div></div></div> <div class="indented-less"><h4 id="how-3">How <span class="badge bg-light text-dark"><small><small><font color="DodgerBlue"><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></font></small></small></span><a href="#how-3" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong>Most programming environments come with logging systems that allow sophisticated forms of logging.</strong> They have features such as the ability to enable and disable logging easily or to change the logging <span data-mb-component-type="tooltip" tabindex="0" class="trigger"><!----> <!----></span>.</p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> This sample Java code uses Java’s default logging mechanism.</p> <p data-v-4d146e2c>First, import the relevant Java package:</p> <pre data-v-4d146e2c><code class="no-line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>import</span> java.util.logging.*;
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre><p data-v-4d146e2c>Next, create a <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Logger</code>:</p> <pre data-v-4d146e2c><code class="no-line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>private</span> <span class="hljs-keyword" data-v-4d146e2c>static</span> Logger logger = Logger.getLogger(<span class="hljs-string" data-v-4d146e2c>&quot;Foo&quot;</span>);
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre><p data-v-4d146e2c>Now, you can use the <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Logger</code> object to log information. Note the use of a <span data-mb-component-type="popover" tabindex="0" class="trigger"><!----> <!----></span>  for each message. When running the code, the logging level can be set to <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>WARNING</code> so that log messages specified as having <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>INFO</code> level (which is a lower level than <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>WARNING</code>) will not be written to the log file at all.</p> <pre data-v-4d146e2c><code class="line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c><span class="hljs-comment" data-v-4d146e2c>// log a message at INFO level</span>
</span><span data-v-4d146e2c>logger.log(Level.INFO, <span class="hljs-string" data-v-4d146e2c>&quot;going to start processing&quot;</span>);
</span><span data-v-4d146e2c><span class="hljs-comment" data-v-4d146e2c>// ...</span>
</span><span data-v-4d146e2c>processInput();
</span><span data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>if</span> (error) {
</span><span data-v-4d146e2c>    <span class="hljs-comment" data-v-4d146e2c>// log a message at WARNING level</span>
</span><span data-v-4d146e2c>    logger.log(Level.WARNING, <span class="hljs-string" data-v-4d146e2c>&quot;processing error&quot;</span>, ex);
</span><span data-v-4d146e2c>}
</span><span data-v-4d146e2c><span class="hljs-comment" data-v-4d146e2c>// ...</span>
</span><span data-v-4d146e2c>logger.log(Level.INFO, <span class="hljs-string" data-v-4d146e2c>&quot;end of processing&quot;</span>);
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre></div> <!----></div></div></div></div></div></div></div> <div><h2 id="defensive-programming"><span>Defensive programming</span><a href="#defensive-programming" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2></div> <div class="indented-less"><div class="indented-less"><h4 id="what-5">What <span class="badge bg-light text-dark"><small><small><font color="DarkOrange"><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></font></small></small></span><a href="#what-5" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong>A defensive programmer codes under the assumption &quot;if you leave room for things to go wrong, they <em>will</em> go wrong&quot;.</strong> Therefore, a defensive programmer proactively tries to eliminate any room for things to go wrong.</p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> Consider a method <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>MainApp#getConfig()</code> that returns a <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Config</code> object containing configuration data. A typical implementation is given below:</p> <pre data-v-4d146e2c><code class="line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c><span class="hljs-class" data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>class</span> <span class="hljs-title" data-v-4d146e2c>MainApp</span> </span>{
</span><span data-v-4d146e2c>    Config config;
</span><span data-v-4d146e2c>    
</span><span data-v-4d146e2c>    <span class="hljs-comment" data-v-4d146e2c>/** Returns the config object */</span>
</span><span data-v-4d146e2c>    <span class="hljs-function" data-v-4d146e2c>Config <span class="hljs-title" data-v-4d146e2c>getConfig</span><span class="hljs-params" data-v-4d146e2c>()</span> </span>{
</span><span data-v-4d146e2c>        <span class="hljs-keyword" data-v-4d146e2c>return</span> config;
</span><span data-v-4d146e2c>    }
</span><span data-v-4d146e2c>}
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre><p data-v-4d146e2c>If the returned <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Config</code> object is not meant to be modified, a defensive programmer might use a more <em data-v-4d146e2c>defensive</em> implementation given below. <span class="dimmed" data-v-4d146e2c>This is more defensive because even if the returned <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Config</code> object is modified (although it is not meant to be), it will not affect the <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>config</code> object inside the <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>MainApp</code> object.</span></p> <pre data-v-4d146e2c><code class="line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c>    <span class="hljs-comment" data-v-4d146e2c>/** Returns a copy of the config object */</span>
</span><span data-v-4d146e2c>    <span class="hljs-function" data-v-4d146e2c>Config <span class="hljs-title" data-v-4d146e2c>getConfig</span><span class="hljs-params" data-v-4d146e2c>()</span> </span>{
</span><span data-v-4d146e2c>        <span class="hljs-keyword" data-v-4d146e2c>return</span> config.copy(); <span class="hljs-comment" data-v-4d146e2c>// return a defensive copy</span>
</span><span data-v-4d146e2c>    }
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre></div> <!----></div></div></div></div></div></div> <div class="indented-less"><h4 id="enforcing-compulsory-associations">Enforcing Compulsory Associations <span class="badge bg-light text-dark"><small><small><font color="DodgerBlue"><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></font></small></small></span><a href="#enforcing-compulsory-associations" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p>Consider two classes, <code class="line-numbers hljs inline no-lang">Account</code> and <code class="line-numbers hljs inline no-lang">Guarantor</code>, with an association as shown in the following diagram:</p> <div class="alert box-container alert-default" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><!----> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><span data-v-4d146e2c><span aria-hidden="true" class="fas fa-cube" data-v-4d146e2c></span></span> Example:</p> <span class="image-wrapper"><img src="/website/book/errorHandling/defensiveProgramming/compulsoryAssociations/images/accountGuarantor.png" width="" loading="lazy" class="img-fluid rounded"> <span class="image-caption"></span></span> <p data-v-4d146e2c></p> <p data-v-4d146e2c>Here, the association is compulsory i.e. an <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Account</code> object should always be linked to a <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Guarantor</code>. One way to implement this is to simply use a reference variable, like this:</p> <pre data-v-4d146e2c><code class="line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c><span class="hljs-class" data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>class</span> <span class="hljs-title" data-v-4d146e2c>Account</span> </span>{
</span><span data-v-4d146e2c>    Guarantor guarantor;
</span><span data-v-4d146e2c>
</span><span data-v-4d146e2c>    <span class="hljs-function" data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>void</span> <span class="hljs-title" data-v-4d146e2c>setGuarantor</span><span class="hljs-params" data-v-4d146e2c>(Guarantor g)</span> </span>{
</span><span data-v-4d146e2c>        guarantor = g;
</span><span data-v-4d146e2c>    }
</span><span data-v-4d146e2c>}
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre><p data-v-4d146e2c>However, what if someone else used the <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Account</code> class like this?</p> <pre data-v-4d146e2c><code class="line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c>Account a = <span class="hljs-keyword" data-v-4d146e2c>new</span> Account();
</span><span data-v-4d146e2c>a.setGuarantor(<span class="hljs-keyword" data-v-4d146e2c>null</span>);
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre><p data-v-4d146e2c>This results in an <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Account</code> without a <code class="line-numbers hljs inline no-lang" data-v-4d146e2c>Guarantor</code>! In a real banking system, this could have serious consequences! The code here did not try to prevent such a thing from happening. You can make the code more defensive by proactively enforcing the multiplicity constraint, like this:</p> <pre data-v-4d146e2c><code class="line-numbers hljs java" data-v-4d146e2c><span data-v-4d146e2c><span class="hljs-class" data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>class</span> <span class="hljs-title" data-v-4d146e2c>Account</span> </span>{
</span><span data-v-4d146e2c>    <span class="hljs-keyword" data-v-4d146e2c>private</span> Guarantor guarantor;
</span><span data-v-4d146e2c>
</span><span data-v-4d146e2c>    <span class="hljs-function" data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>public</span> <span class="hljs-title" data-v-4d146e2c>Account</span><span class="hljs-params" data-v-4d146e2c>(Guarantor g)</span> </span>{
</span><span data-v-4d146e2c>        <span class="hljs-keyword" data-v-4d146e2c>if</span> (g == <span class="hljs-keyword" data-v-4d146e2c>null</span>) {
</span><span data-v-4d146e2c>            stopSystemWithMessage(
</span><span data-v-4d146e2c>                    <span class="hljs-string" data-v-4d146e2c>&quot;multiplicity violated. Null Guarantor&quot;</span>);
</span><span data-v-4d146e2c>        }
</span><span data-v-4d146e2c>        guarantor = g;
</span><span data-v-4d146e2c>    }
</span><span data-v-4d146e2c>    <span class="hljs-function" data-v-4d146e2c><span class="hljs-keyword" data-v-4d146e2c>public</span> <span class="hljs-keyword" data-v-4d146e2c>void</span> <span class="hljs-title" data-v-4d146e2c>setGuarantor</span><span class="hljs-params" data-v-4d146e2c>(Guarantor g)</span> </span>{
</span><span data-v-4d146e2c>        <span class="hljs-keyword" data-v-4d146e2c>if</span> (g == <span class="hljs-keyword" data-v-4d146e2c>null</span>) {
</span><span data-v-4d146e2c>            stopSystemWithMessage(
</span><span data-v-4d146e2c>                    <span class="hljs-string" data-v-4d146e2c>&quot;multiplicity violated. Null Guarantor&quot;</span>);
</span><span data-v-4d146e2c>        }
</span><span data-v-4d146e2c>        guarantor = g;
</span><span data-v-4d146e2c>    }
</span><span data-v-4d146e2c>    <span class="hljs-comment" data-v-4d146e2c>// ...</span>
</span><span data-v-4d146e2c>}
</span></code><div class="function-btn-container" data-v-4d146e2c><button onclick="copyCodeBlock(this)" class="function-btn" data-v-4d146e2c>
    <div class="function-btn-body" data-v-4d146e2c>
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1" data-v-4d146e2c>
    <g id="surface1" data-v-4d146e2c>
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 " data-v-4d146e2c></path>
    </g>
</svg>

    </div>
    </button></div></pre></div> <!----></div></div></div></div></div></div> <div class="indented-less"><h4 id="when-3">When <span class="badge bg-light text-dark"><small><small><font color="DodgerBlue"><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span><span aria-hidden="true" class="glyphicon glyphicon-flash"></span></font></small></small></span><a href="#when-3" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <div class="indented-less"><div><p><strong>It is not necessary to be 100% defensive all the time.</strong> While defensive code may be less prone to be misused or abused, such code can also be more complicated and slower to run.</p> <p>The suitable degree of defensiveness depends on many factors such as:</p> <ul><li>How critical is the system?</li> <li>Will the code be used by programmers other than the author?</li> <li>The level of programming language support for defensive programming</li> <li>The overhead of being defensive</li></ul></div></div></div></div></div></div> <nav id="page-nav" class="fixed-header-padding" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420></div> <!----></nav> <div aria-hidden="true" class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;"><i class="fas fa-arrow-circle-up"></i></div></div> <footer><div class="text-center"><small>[<span><strong>Powered by</strong></span> <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 5.0.2</a>, generated on Thu, 7 Sept 2023, 14:30:52 GMT+8]</small></div></footer></div>
</body><script src="/website/markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setup()
</script>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122519234-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-122519234-1');
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.2.0/dist/umd/index.js"></script>
    <script>
    docsearch({
      container: "#algolia-search-input",
      appId: "3DU4XTBX4T",
      apiKey: "3e2fd3c3b12a363309307794dce54969",
      indexName: "nus-tic-cs",
      searchParameters: {"facetFilters":[["site:nus-cs2103-ay2324s1.github.io"],["tags:admin","tags:se-book-adapted","tags:schedule"]]}
    });
  </script>
    <script>
    const style = document.createElement('style');
    style.innerHTML = ".DocSearch-Container { z-index: 1002; position: fixed; }";
    document.getElementsByTagName('head')[0].appendChild(style);
  </script>
  
    <script>
    function copyCodeBlock(element) {
        const pre = element.parentElement.parentElement;
        const codeElement = pre.querySelector('code');

        // create dummy text element to select() the text field
        const textElement = document.createElement('textarea');
        textElement.value = codeElement.textContent;
        document.body.appendChild(textElement);
        textElement.select();

        document.execCommand('copy');
        document.body.removeChild(textElement);
    }
    </script>
</html>
